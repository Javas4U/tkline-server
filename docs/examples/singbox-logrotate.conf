# 目标文件路径（容器内路径）
/var/log/sing-box/sing-box.log {
    # 按小时分割
    hourly
    # 保留最近24个文件
    rotate 24
    # 文件不存在不报错
    missingok
    # 文件为空不分割
    notifempty
    # 使用日期后缀
    dateext
    # 设置日期格式
    dateformat -%Y%m%d-%H
    # 保持后缀名为 .log
    extension .log

    # --- 核心机制: CopyTruncate ---
    # 因为 sing-box 仍在不停写入，不能直接移动文件。
    # 这个选项会先把内容复制出来，然后清空原文件。
    copytruncate
}